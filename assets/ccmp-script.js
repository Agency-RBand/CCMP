(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function u(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=u(t);fetch(t.href,n)}})();function b({src:l,id:c,async:u=!0,defer:i=!0,type:t="module",onLoad:n,onError:d,dataToGet:f}){if(c&&document.getElementById(c))return;let p=l;try{const e=new URL(l,window.location.href);if(f&&typeof f=="object")for(const[r,o]of Object.entries(f))o!=null&&e.searchParams.set(r,String(o));p=e.toString()}catch(e){console.warn("Invalid script src URL:",l,e);return}const a=document.createElement("script");a.src=p,a.async=u,a.defer=i,t&&(a.type=t),c&&(a.id=c),n&&(a.onload=n),d&&(a.onerror=d),document.head.appendChild(a)}function y(l){const c=document.getElementById(l),u={};if(c&&c instanceof HTMLScriptElement){for(const i of c.attributes)if(i.name.startsWith("data-")){const t=i.name.slice(5);u[t]=i.value}}return u}(function(){let l=y("ccmp-script");if(!localStorage.getItem(void 0)&&l.autoblockingmode){let c=function(e){return n.some(r=>r.test(e.toLowerCase()))},u=function(e){const r=e.toLowerCase();return n.some(o=>o.test(r))},i=function(e){return n.some(r=>r.test(e))},t=function(e,r){const o=Object.getOwnPropertyDescriptor(e,r);!o||!o.set||Object.defineProperty(e,r,{...o,set(s){if(typeof s=="string"&&u(s)){console.warn(`[Blocked Script] ${r} injection blocked`);return}o.set.call(this,s)}})};const n=[/googletagmanager\.com/,/google-analytics\.com/,/yandex\.ru/,/metrika/,/facebook\.net/,/gstatic\.com/],d=document.createElement;document.createElement=function(e){const r=d.call(document,e);if(e.toLowerCase()==="script"||e.toLowerCase()==="iframe"){const o=r.setAttribute;r.setAttribute=function(s,m){if(s==="src"&&c(m)){console.warn(`[Blocked ${e}] setAttribute blocked: ${m}`);return}o.call(this,s,m)},Object.defineProperty(r,"src",{set(s){if(c(s)){console.warn(`[Blocked ${e}] .src blocked: ${s}`);return}this._src=s,r.setAttribute("src",s)},get(){return this._src}})}return r};const f=Element.prototype.appendChild;Element.prototype.appendChild=function(e){return(e.nodeName==="SCRIPT"||e.nodeName==="IFRAME")&&e instanceof HTMLElement&&e.src&&c(e.src)?(console.warn(`[Blocked ${e.nodeName}] appendChild blocked: ${e.src}`),e):f.call(this,e)},document.querySelectorAll("script[src]").forEach(e=>{i(e.src)&&(console.warn(`[Blocked Script] removed on load: ${e.src}`),e.remove())}),new MutationObserver(e=>{for(const r of e)for(const o of r.addedNodes)o.nodeName==="SCRIPT"&&o instanceof HTMLScriptElement&&o.src&&i(o.src)&&(console.warn(`[Blocked Script] mutation removed: ${o.src}`),o.remove())}).observe(document.documentElement,{childList:!0,subtree:!0}),t(Element.prototype,"innerHTML"),t(Element.prototype,"outerHTML"),t(HTMLElement.prototype,"innerText"),t(HTMLElement.prototype,"textContent");const a=Element.prototype.insertAdjacentHTML;Element.prototype.insertAdjacentHTML=function(e,r){if(u(r)){console.warn("[Blocked Script] insertAdjacentHTML blocked");return}return a.call(this,e,r)}}else document.cookie="undefined=true; max-age=undefined; path=/; Secure; SameSite=Lax"})();(function(){if(!localStorage.getItem(void 0)){let l=y("ccmp-script");b({src:"https://agency-rband.github.io/CCMP/external/popup.js",onError:()=>console.warn("Failed to load CAP-script"),dataToGet:l})}})();
