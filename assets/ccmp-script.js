(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function c(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=c(t);fetch(t.href,r)}})();function g({src:a,id:l,async:c=!0,defer:s=!0,type:t="module",onLoad:r,onError:u,dataToGet:d}){if(l&&document.getElementById(l))return;let m=a;try{const o=new URL(a,window.location.href);if(d&&typeof d=="object")for(const[n,i]of Object.entries(d))i!=null&&o.searchParams.set(n,String(i));m=o.toString()}catch(o){console.warn("Invalid script src URL:",a,o);return}const e=document.createElement("script");e.src=m,e.async=c,e.defer=s,t&&(e.type=t),l&&(e.id=l),r&&(e.onload=r),u&&(e.onerror=u),document.head.appendChild(e)}function p(a){const l=document.getElementById(a),c={};if(l&&l instanceof HTMLScriptElement){for(const s of l.attributes)if(s.name.startsWith("data-")){const t=s.name.slice(5);c[t]=s.value}}return c}(function(){const a=document.cookie.split("; ").reduce((c,s)=>{const[t,r]=s.split("=");return c[t]=r,c},{});a.cookieConsentStatus&&localStorage.setItem("cookieConsentStatus",a.cookieConsentStatus);let l=p("ccmp-script");if(!localStorage.getItem("cookieConsentStatus")&&l.autoblockingmode){let c=function(e){return t.some(o=>o.test(e.toLowerCase()))},s=function(e,o){const n=Object.getOwnPropertyDescriptor(e,o);!n||!n.set||Object.defineProperty(e,o,{...n,set(i){if(typeof i=="string"&&t.some(f=>f.test(i.toLowerCase()))){console.warn(`[Blocked Script] ${o} injection blocked`);return}n.set.call(this,i)}})};const t=[/googletagmanager\.com/,/google-analytics\.com/,/yandex\.ru/,/metrika/,/facebook\.net/,/gstatic\.com/],r=document.createElement;document.createElement=function(e){const o=r.call(document,e);if(e.toLowerCase()==="script"||e.toLowerCase()==="iframe"){const n=o.setAttribute;o.setAttribute=function(i,f){if(i==="src"&&c(f)){console.warn(`[Blocked ${e}] setAttribute blocked: ${f}`);return}n.call(this,i,f)},Object.defineProperty(o,"src",{set(i){if(c(i)){console.warn(`[Blocked ${e}] .src blocked: ${i}`);return}this._src=i,n.call(o,"src",i)},get(){return this._src},configurable:!0,enumerable:!0})}return o};const u=Element.prototype.appendChild;Element.prototype.appendChild=function(e){return(e.nodeName==="SCRIPT"||e.nodeName==="IFRAME")&&e instanceof HTMLElement&&e.src&&c(e.src)?(console.warn(`[Blocked ${e.nodeName}] appendChild blocked: ${e.src}`),e):u.call(this,e)},s(Element.prototype,"innerHTML"),s(Element.prototype,"outerHTML"),s(HTMLElement.prototype,"innerText"),s(HTMLElement.prototype,"textContent");const d=Element.prototype.insertAdjacentHTML;Element.prototype.insertAdjacentHTML=function(e,o){if(typeof o=="string"&&t.some(n=>n.test(o.toLowerCase()))){console.warn("[Blocked Script] insertAdjacentHTML blocked");return}return d.call(this,e,o)},document.querySelectorAll("script[src]").forEach(e=>{c(e.src)&&(console.warn(`[Blocked Script] removed on load: ${e.src}`),e.remove())}),new MutationObserver(e=>{for(const o of e)for(const n of o.addedNodes)n.nodeName==="SCRIPT"&&n instanceof HTMLScriptElement&&n.src&&c(n.src)&&(console.warn(`[Blocked Script] mutation removed: ${n.src}`),n.remove())}).observe(document.documentElement,{childList:!0,subtree:!0})}localStorage.getItem("cookieConsentStatus")&&(document.cookie="cookieConsentStatus=true; max-age=31536000; path=/; SameSite=Lax")})();(function(){if(!localStorage.getItem("cookieConsentStatus")){let a=p("ccmp-script");g({src:"https://agency-rband.github.io/CCMP/external/popup.js",onError:()=>console.warn("Failed to load CAP-script"),dataToGet:a})}})();
