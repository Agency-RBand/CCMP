(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();function g({src:a,id:c,async:s=!0,defer:i=!0,type:t="module",onLoad:r,onError:u,dataToGet:d}){if(c&&document.getElementById(c))return;let m=a;try{const o=new URL(a,window.location.href);if(d&&typeof d=="object")for(const[n,l]of Object.entries(d))l!=null&&o.searchParams.set(n,String(l));m=o.toString()}catch(o){console.warn("Invalid script src URL:",a,o);return}const e=document.createElement("script");e.src=m,e.async=s,e.defer=i,t&&(e.type=t),c&&(e.id=c),r&&(e.onload=r),u&&(e.onerror=u),document.head.appendChild(e)}function p(a){const c=document.getElementById(a),s={};if(c&&c instanceof HTMLScriptElement){for(const i of c.attributes)if(i.name.startsWith("data-")){const t=i.name.slice(5);s[t]=i.value}}return s}(function(){const a=document.cookie.split("; ").reduce((s,i)=>{const[t,r]=i.split("=");return s[t]=r,s},{});a.cookieConsentStatus&&localStorage.setItem("cookieConsentStatus",a.cookieConsentStatus);let c=p("ccmp-script");if((!localStorage.getItem("cookieConsentStatus")||localStorage.getItem("cookieConsentStatus")==="false")&&c.autoblockingmode){let s=function(e){return t.some(o=>o.test(e.toLowerCase()))},i=function(e,o){const n=Object.getOwnPropertyDescriptor(e,o);!n||!n.set||Object.defineProperty(e,o,{...n,set(l){if(typeof l=="string"&&t.some(f=>f.test(l.toLowerCase()))){console.warn(`[Blocked Script] ${o} injection blocked`);return}n.set.call(this,l)}})};const t=[/googletagmanager\.com/,/google-analytics\.com/,/yandex\.ru/,/metrika/,/facebook\.net/,/gstatic\.com/],r=document.createElement;document.createElement=function(e){const o=r.call(document,e);if(e.toLowerCase()==="script"||e.toLowerCase()==="iframe"){const n=o.setAttribute;o.setAttribute=function(l,f){if(l==="src"&&s(f)){console.warn(`[Blocked ${e}] setAttribute blocked: ${f}`);return}n.call(this,l,f)},Object.defineProperty(o,"src",{set(l){if(s(l)){console.warn(`[Blocked ${e}] .src blocked: ${l}`);return}this._src=l,n.call(o,"src",l)},get(){return this._src},configurable:!0,enumerable:!0})}return o};const u=Element.prototype.appendChild;Element.prototype.appendChild=function(e){return(e.nodeName==="SCRIPT"||e.nodeName==="IFRAME")&&e instanceof HTMLElement&&e.src&&s(e.src)?(console.warn(`[Blocked ${e.nodeName}] appendChild blocked: ${e.src}`),e):u.call(this,e)},i(Element.prototype,"innerHTML"),i(Element.prototype,"outerHTML"),i(HTMLElement.prototype,"innerText"),i(HTMLElement.prototype,"textContent");const d=Element.prototype.insertAdjacentHTML;Element.prototype.insertAdjacentHTML=function(e,o){if(typeof o=="string"&&t.some(n=>n.test(o.toLowerCase()))){console.warn("[Blocked Script] insertAdjacentHTML blocked");return}return d.call(this,e,o)},document.querySelectorAll("script[src]").forEach(e=>{s(e.src)&&(console.warn(`[Blocked Script] removed on load: ${e.src}`),e.remove())}),new MutationObserver(e=>{for(const o of e)for(const n of o.addedNodes)n.nodeName==="SCRIPT"&&n instanceof HTMLScriptElement&&n.src&&s(n.src)&&(console.warn(`[Blocked Script] mutation removed: ${n.src}`),n.remove())}).observe(document.documentElement,{childList:!0,subtree:!0})}})();(function(){let a=p("ccmp-script");if(!localStorage.getItem("cookieConsentStatus"))g({src:"https://agency-rband.github.io/CCMP/external/popup.js",onError:()=>console.warn("Failed to load CAP-script"),dataToGet:a});else{let c="31536000";a.expire&&(c=parseInt(a.expire,10)),localStorage.getItem("cookieConsentStatus")!=="false"&&(document.cookie=`cookieConsentStatus=${localStorage.getItem("cookieConsentStatus")}; max-age=${c}; path=/; SameSite=Lax`)}})();
