(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();function g({src:l,id:c,async:s=!0,defer:i=!0,type:t="module",onLoad:r,onError:u,dataToGet:p}){if(c&&document.getElementById(c))return;let m=l;try{const f=new URL(l,window.location.href);if(p&&typeof p=="object")for(const[e,o]of Object.entries(p))o!=null&&f.searchParams.set(e,String(o));m=f.toString()}catch(f){console.warn("Invalid script src URL:",l,f);return}const d=document.createElement("script");d.src=m,d.async=s,d.defer=i,t&&(d.type=t),c&&(d.id=c),r&&(d.onload=r),u&&(d.onerror=u),document.head.appendChild(d)}function b(l){const c=document.getElementById(l),s={};if(c&&c instanceof HTMLScriptElement){for(const i of c.attributes)if(i.name.startsWith("data-")){const t=i.name.slice(5);s[t]=i.value}}return s}(function(){const l=document.cookie.split("; ").reduce((s,i)=>{const[t,r]=i.split("=");return s[t]=r,s},{});l.cookieConsentStatus&&localStorage.setItem("cookieConsentStatus",l.cookieConsentStatus);let c=b("ccmp-script");if(!localStorage.getItem("cookieConsentStatus")&&c.autoblockingmode){let s=function(e){return u.some(o=>o.test(e.toLowerCase()))},i=function(e){const o=e.toLowerCase();return u.some(n=>n.test(o))},t=function(e){return u.some(o=>o.test(e))},r=function(e,o){const n=Object.getOwnPropertyDescriptor(e,o);!n||!n.set||Object.defineProperty(e,o,{...n,set(a){if(typeof a=="string"&&i(a)){console.warn(`[Blocked Script] ${o} injection blocked`);return}n.set.call(this,a)}})};const u=[/googletagmanager\.com/,/google-analytics\.com/,/yandex\.ru/,/metrika/,/facebook\.net/,/gstatic\.com/],p=document.createElement;document.createElement=function(e){const o=p.call(document,e);if(e.toLowerCase()==="script"||e.toLowerCase()==="iframe"){const n=o.setAttribute;o.setAttribute=function(a,y){if(a==="src"&&s(y)){console.warn(`[Blocked ${e}] setAttribute blocked: ${y}`);return}n.call(this,a,y)},Object.defineProperty(o,"src",{set(a){if(s(a)){console.warn(`[Blocked ${e}] .src blocked: ${a}`);return}this._src=a,o.setAttribute("src",a)},get(){return this._src}})}return o};const m=Element.prototype.appendChild;Element.prototype.appendChild=function(e){return(e.nodeName==="SCRIPT"||e.nodeName==="IFRAME")&&e instanceof HTMLElement&&e.src&&s(e.src)?(console.warn(`[Blocked ${e.nodeName}] appendChild blocked: ${e.src}`),e):m.call(this,e)},document.querySelectorAll("script[src]").forEach(e=>{t(e.src)&&(console.warn(`[Blocked Script] removed on load: ${e.src}`),e.remove())}),new MutationObserver(e=>{for(const o of e)for(const n of o.addedNodes)n.nodeName==="SCRIPT"&&n instanceof HTMLScriptElement&&n.src&&t(n.src)&&(console.warn(`[Blocked Script] mutation removed: ${n.src}`),n.remove())}).observe(document.documentElement,{childList:!0,subtree:!0}),r(Element.prototype,"innerHTML"),r(Element.prototype,"outerHTML"),r(HTMLElement.prototype,"innerText"),r(HTMLElement.prototype,"textContent");const f=Element.prototype.insertAdjacentHTML;Element.prototype.insertAdjacentHTML=function(e,o){if(i(o)){console.warn("[Blocked Script] insertAdjacentHTML blocked");return}return f.call(this,e,o)}}})();(function(){if(!localStorage.getItem("cookieConsentStatus")){let l=b("ccmp-script");g({src:"https://agency-rband.github.io/CCMP/external/popup.js",onError:()=>console.warn("Failed to load CAP-script"),dataToGet:l})}})();
