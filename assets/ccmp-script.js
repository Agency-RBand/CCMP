(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function f(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=f(t);fetch(t.href,o)}})();function S({src:i,id:c,async:f=!0,defer:s=!0,type:t="module",onLoad:o,onError:a,dataToGet:d}){if(c&&document.getElementById(c))return;let p=i;try{const e=new URL(i,window.location.href);if(d&&typeof d=="object")for(const[n,r]of Object.entries(d))r!=null&&e.searchParams.set(n,String(r));p=e.toString()}catch(e){console.warn("Invalid script src URL:",i,e);return}const u=document.createElement("script");u.src=p,u.async=f,u.defer=s,t&&(u.type=t),c&&(u.id=c),o&&(u.onload=o),a&&(u.onerror=a),document.head.appendChild(u)}function g(i){const c=document.getElementById(i),f={};if(c&&c instanceof HTMLScriptElement){for(const s of c.attributes)if(s.name.startsWith("data-")){const t=s.name.slice(5);f[t]=s.value}}return f}(function(){if(g("ccmp-script").autoblockingmode){const c=document.cookie.split("; ").reduce((s,t)=>{const[o,a]=t.split("=");return s[o]=a,s},{});c.cookieConsentStatus&&localStorage.setItem("cookieConsentStatus",c.cookieConsentStatus);let f=g("ccmp-script");if((!localStorage.getItem("cookieConsentStatus")||localStorage.getItem("cookieConsentStatus")==="false")&&f.autoblockingmode){let s=function(e){return o.some(n=>n.test(e.toLowerCase()))},t=function(e,n){const r=Object.getOwnPropertyDescriptor(e,n);!r||!r.set||Object.defineProperty(e,n,{...r,set(l){if(typeof l=="string"&&o.some(m=>m.test(l.toLowerCase()))){console.warn(`[Blocked Script] ${n} injection blocked`);return}r.set.call(this,l)}})};const o=[/googletagmanager\.com/,/google-analytics\.com/,/yandex\.ru/,/metrika/,/facebook\.net/,/gstatic\.com/],a=document.createElement;document.createElement=function(e){const n=a.call(document,e);if(e.toLowerCase()==="script"||e.toLowerCase()==="iframe"){const r=n.setAttribute;n.setAttribute=function(l,m){if(l==="src"&&s(m)){console.warn(`[Blocked ${e}] setAttribute blocked: ${m}`);return}r.call(this,l,m)},Object.defineProperty(n,"src",{set(l){if(s(l)){console.warn(`[Blocked ${e}] .src blocked: ${l}`);return}this._src=l,r.call(n,"src",l)},get(){return this._src},configurable:!0,enumerable:!0})}return n};const d=Element.prototype.appendChild;Element.prototype.appendChild=function(e){return(e.nodeName==="SCRIPT"||e.nodeName==="IFRAME")&&e instanceof HTMLElement&&e.src&&s(e.src)?(console.warn(`[Blocked ${e.nodeName}] appendChild blocked: ${e.src}`),e):d.call(this,e)},t(Element.prototype,"innerHTML"),t(Element.prototype,"outerHTML"),t(HTMLElement.prototype,"innerText"),t(HTMLElement.prototype,"textContent");const p=Element.prototype.insertAdjacentHTML;Element.prototype.insertAdjacentHTML=function(e,n){if(typeof n=="string"&&o.some(r=>r.test(n.toLowerCase()))){console.warn("[Blocked Script] insertAdjacentHTML blocked");return}return p.call(this,e,n)},document.querySelectorAll("script[src]").forEach(e=>{s(e.src)&&(console.warn(`[Blocked Script] removed on load: ${e.src}`),e.remove())}),new MutationObserver(e=>{for(const n of e)for(const r of n.addedNodes)r.nodeName==="SCRIPT"&&r instanceof HTMLScriptElement&&r.src&&s(r.src)&&(console.warn(`[Blocked Script] mutation removed: ${r.src}`),r.remove())}).observe(document.documentElement,{childList:!0,subtree:!0})}}})();(function(){let i=g("ccmp-script");if(!localStorage.getItem("cookieConsentStatus")||localStorage.getItem("cookieConsentStatus")==="false")S({src:"https://agency-rband.github.io/CCMP/external/popup.js",onError:()=>console.warn("Failed to load CAP-script"),dataToGet:i});else{let c="31536000";i.expire&&(c=parseInt(i.expire,10)),localStorage.getItem("cookieConsentStatus")!=="false"&&(document.cookie=`cookieConsentStatus=${localStorage.getItem("cookieConsentStatus")}; max-age=${c}; path=/; SameSite=Lax`)}})();
