var m=Object.defineProperty;var h=(a,i,l)=>i in a?m(a,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[i]=l;var s=(a,i,l)=>h(a,typeof i!="symbol"?i+"":i,l);(function(){"use strict";var a=document.createElement("style");a.textContent=`@charset "UTF-8";.ccmp-consent{position:fixed;bottom:20px;left:20px;right:20px;background-color:#222;color:#eee;font-family:Arial,sans-serif;font-size:.875rem;border-radius:.5rem;box-shadow:0 4px 10px #0000004d;z-index:9999;display:flex;justify-content:center;align-items:center;padding:1.5rem}.ccmp-consent__container{max-width:100%;display:flex;align-items:center;gap:1.5rem}.ccmp-consent__left{display:flex}.ccmp-consent__right{display:flex;gap:.75rem;width:max-content}.ccmp-consent__text{flex:1;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;line-height:1.4}.ccmp-consent__title{font-size:1.375rem;margin:0}.ccmp-consent__description{margin-top:1.125em;margin-bottom:0}.ccmp-consent__link{font-size:.875em;margin-top:1.125em;margin-bottom:0;color:#4ea1f7;text-decoration:underline;transition:color .2s ease}.ccmp-consent__link:hover,.ccmp-consent__link:focus{color:#82c0ff;outline:none}.ccmp-consent__button{background-color:#4ea1f7;color:#fff;border:none;padding:.5rem 1rem;font-weight:600;border-radius:.25rem;cursor:pointer;transition:background-color .3s ease;flex:1 1 0;min-width:100px;box-sizing:border-box}.ccmp-consent__button:hover,.ccmp-consent__button:focus{background-color:#3b87d6;outline:none}
/*$vite$:1*/`,document.head.appendChild(a);class i{constructor(){s(this,"consentKey");s(this,"container");s(this,"cookiePolicyUrl");s(this,"textCookiePopup");s(this,"blockedCookies",{});s(this,"cookieExpire",60*60*24*365);s(this,"cookiePolicyTarget");s(this,"blockedCookieNames")}init(t={}){this.cookiePolicyUrl=t.cookiePolicyUrl||"",this.cookiePolicyTarget=t.cookiePolicyTarget||"",this.blockedCookieNames=t.blockedCookieNames||[];const e=t.textCookiePopup||{};this.textCookiePopup={title:e.title||"Мы ценим вашу конфиденциальность",description:e.description||'Cайт использует файлы Cookie для улучшения качества вашего просмотра, показа персонализированного контента и анализа трафика. Нажимая "Принять", вы даёте согласие на использование файлов cookie.',shortDescription:e.shortDescription||"При отказе некоторые функции сайта могут стать недоступными.",textLinkCookie:e.shortDescription||"Политика конфиденциальности.",buttonDetails:e.buttonDetails||"Детали",buttonDeny:e.buttonDeny||"Отклонить",buttonApply:e.buttonApply||"Принять"},this.container=this.createContainer(),document.body.appendChild(this.container),this.deleteBlockedCookies()}deleteBlockedCookies(){const t=this.blockedCookieNames.length===0;document.cookie.split(";").forEach(e=>{const o=e.split("=")[0].trim();(t||this.blockedCookieNames.some(n=>n.test(o)))&&this.deleteCookie(o)})}deleteCookie(t){if(t){const e=window.location.hostname,o=e.startsWith("localhost")||e.match(/^\d+\.\d+\.\d+\.\d+$/)?[e]:[e,"."+e],n=["/",window.location.pathname];this.blockedCookies.hasOwnProperty(t)||(this.blockedCookies[t]=this.getCookieByName(t));for(const c of o)for(const r of n)document.cookie=`${t}=; Max-Age=0; path=${r}; domain=${c};`,document.cookie=`${t}=; Max-Age=0; path=${r};`;console.warn(`[Blocked Cookie] Deleting cookie: ${t}`)}}getCookieByName(t){const e=document.cookie.split(";").map(o=>o.trim());for(const o of e){const[n,c]=o.split("=");if(n===t)return decodeURIComponent(c)}return null}createContainer(){const t=document.createElement("div");t.className="ccmp-consent";const e=document.createElement("div");e.className="ccmp-consent__container";const o=document.createElement("div");o.className="ccmp-consent__left";const n=this.createText();o.appendChild(n);const c=document.createElement("div");c.className="ccmp-consent__right";const r=this.createButton({text:this.textCookiePopup.buttonDetails,modificator:"details"});r.addEventListener("click",()=>{console.log("Show details!")}),c.appendChild(r);const d=this.createButton({text:this.textCookiePopup.buttonDeny,modificator:"deny"});d.addEventListener("click",()=>{localStorage.setItem(this.consentKey,"false"),document.cookie=`${this.consentKey}=false; max-age=${this.cookieExpire}; path=/; Secure; SameSite=Lax`,this.container.remove()}),c.appendChild(d);const p=this.createButton({text:this.textCookiePopup.buttonApply,modificator:"apply"});return p.addEventListener("click",()=>{localStorage.setItem(this.consentKey,"true"),document.cookie=`${this.consentKey}=true; max-age=${this.cookieExpire}; path=/; Secure; SameSite=Lax`,this.container.remove()}),c.appendChild(p),e.appendChild(o),e.appendChild(c),t.appendChild(e),t}createText(){const t=document.createElement("dev");t.className="ccmp-consent__text";const e=document.createElement("h6");e.className="ccmp-consent__title",e.textContent=this.textCookiePopup.title;const o=document.createElement("p");if(o.className="ccmp-consent__description",o.textContent=this.textCookiePopup.description,t.appendChild(e),t.appendChild(o),this.cookiePolicyUrl){const n=document.createElement("a");n.className="ccmp-consent__link",n.href=this.cookiePolicyUrl,n.textContent=this.textCookiePopup.textLinkCookie,this.cookiePolicyTarget&&(n.target=this.cookiePolicyTarget),t.appendChild(n)}return t}createButton(t){const e=document.createElement("button");return e.className="ccmp-consent__button",t.modificator&&e.classList.add(`ccmp-consent__button_${t.modificator}`),e.type="button",e.textContent=t.text,e}}(function(l){const t=[];let e=!1;const o=new i;setTimeout(()=>{e=!0,t.forEach(n=>n(o)),t.length=0},0),l.CookieConsentInstance={ready(n){e?n(o):t.push(n)},_instance:o}})(window)})();
