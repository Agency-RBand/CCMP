var m=Object.defineProperty;var u=(r,c,l)=>c in r?m(r,c,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[c]=l;var s=(r,c,l)=>u(r,typeof c!="symbol"?c+"":c,l);(function(){"use strict";var r=document.createElement("style");r.textContent=`@charset "UTF-8";.ccmp-consent{--bg-color: #F3F3F3;--text-color: #000;--border-color: #000;--shadow-color: rgba(0, 0, 0, .1);--link-color: #4ea1f7;--link-hover-color: #82c0ff;--button-bg: transparent;--button-text-color: var(--text-color);--button-border: var(--border-color);--button-apply-text-color: #fff;--button-apply-bg: #017A0D;--button-apply-bg-hover: #009513;position:fixed;bottom:20px;margin:0 auto;left:0;right:0;max-width:1100px;background-color:var(--bg-color);color:var(--text-color);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:16px;border-radius:.5em;box-shadow:0 4px 10px var(--shadow-color);z-index:9999;display:flex;justify-content:center;align-items:center;padding:1.5em;border:.125em solid var(--border-color)}.ccmp-consent_dark{--bg-color: #000;--text-color: #eee;--border-color: #fff;--shadow-color: rgba(0, 0, 0, .3);--link-color: #4ea1f7;--link-hover-color: #82c0ff;--button-bg: transparent;--button-text-color: var(--text-color);--button-border: var(--border-color);--button-apply-text-color: #fff;--button-apply-bg: #017A0D;--button-apply-bg-hover: #009513}.ccmp-consent__container{max-width:100%;width:100%;display:flex;align-items:flex-start;flex-direction:column;gap:1.5rem}.ccmp-consent__body{width:100%;display:flex;flex-direction:row;align-items:stretch;flex-wrap:nowrap;gap:2rem}.ccmp-consent__tabs{width:100%;display:flex;justify-content:flex-start;align-items:flex-start;flex-wrap:nowrap;gap:1.5em;font-weight:500;font-size:.75em}.ccmp-consent__tab-item{color:var(--text-color);text-decoration:none;cursor:pointer;opacity:.7}.ccmp-consent__tab-item_active{opacity:1;position:relative}.ccmp-consent__tab-item_active:before{content:"";position:absolute;bottom:-.25em;left:0;right:0;height:.125em;background-color:var(--text-color)}.ccmp-consent__left{display:flex}.ccmp-consent__content{flex:1;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;line-height:1.4;font-size:.875em}.ccmp-consent__title{font-size:1.5em;margin:0}.ccmp-consent__description{margin-top:1.125em;margin-bottom:0}.ccmp-consent__description_alert{font-style:italic}.ccmp-consent__description_alert:before{content:"*";margin-right:4px}.ccmp-consent__button-box{display:flex;gap:1.25em;width:max-content;align-items:center;flex-direction:column;justify-content:center}.ccmp-consent__button{background-color:var(--button-bg);color:var(--button-text-color);border:.125em solid var(--button-border);padding:.75em 1rem;font-weight:400;border-radius:.5em;cursor:pointer;transition:background-color .3s ease;flex:0 0 auto;min-height:40px;width:100%;box-sizing:border-box;color:var(--text-color)}.ccmp-consent__button_apply{background-color:var(--button-apply-bg);border-color:transparent;color:var(--button-apply-text-color)}.ccmp-consent__button:hover,.ccmp-consent__button:focus{background-color:var(--button-apply-bg-hover);outline:none;color:var(--button-apply-text-color)}
/*$vite$:1*/`,document.head.appendChild(r);class c{constructor(){s(this,"consentKey");s(this,"containerClass","ccmp-consent");s(this,"defaultLocale","ru");s(this,"container");s(this,"tabConsent");s(this,"tabDeleted");s(this,"tabAbout");s(this,"tabLink");s(this,"tabs");s(this,"cookiePolicyUrl");s(this,"textCookiePopup");s(this,"blockedCookies",{});s(this,"cookieExpire",60*60*24*365);s(this,"cookiePolicyTarget");s(this,"popupTheme","");s(this,"blockedCookieNames");const t=this.getScriptParams("https://agency-rband.github.io/CCMP/external/popup.js");"init"in t&&this.init({popupTheme:t.theme||"",containerClass:t.containerClass||""})}async getLocale(){var o;const e=((o=document.documentElement.lang)==null?void 0:o.slice(0,2))||(navigator.language||this.defaultLocale).slice(0,2);console.log("locale:",e);try{const i=await(await fetch(`https://agency-rband.github.io/CCMP/external/locales/${e}.json`)).json();this.textCookiePopup=i}catch{const a=await(await fetch(`https://agency-rband.github.io/CCMP/external/locales/${this.defaultLocale}.json`)).json();this.textCookiePopup=a}}init(t={}){this.containerClass=t.containerClass||this.containerClass,this.cookiePolicyUrl=t.cookiePolicyUrl||"",this.cookiePolicyTarget=t.cookiePolicyTarget||"",this.blockedCookieNames=t.blockedCookieNames||[];let e=t.popupTheme||"";const o=this,n=setInterval(()=>{if(document.body){if(this.getLocale(),t.textCookiePopup)for(const i in t.textCookiePopup)t.textCookiePopup.hasOwnProperty(i)&&(this.textCookiePopup[i]=t.textCookiePopup[i]);o.container=o.createContainer({popupTheme:e}),document.body.appendChild(o.container),clearInterval(n)}},50);this.deleteBlockedCookies()}deleteBlockedCookies(){const t=this;setInterval(()=>{document.cookie.split(";").forEach(e=>{const o=e.split("=")[0].trim();t.deleteCookie(o)}),this.updateConunterBlockedCookies()},100)}deleteCookie(t){if(t){const e=window.location.hostname,o=e.startsWith("localhost")||e.match(/^\d+\.\d+\.\d+\.\d+$/)?[e]:[e,"."+e],n=["/",window.location.pathname];this.blockedCookies.hasOwnProperty(t)||(this.blockedCookies[t]=this.getCookieByName(t));for(const i of o)for(const a of n)document.cookie=`${t}=; Max-Age=0; path=${a}; domain=${i};`,document.cookie=`${t}=; Max-Age=0; path=${a};`;console.warn(`[Blocked Cookie] Deleting cookie: ${t}`)}}getCookieByName(t){const e=document.cookie.split(";").map(o=>o.trim());for(const o of e){const[n,i]=o.split("=");if(n===t)return decodeURIComponent(i)}return null}getScriptParams(t){const e=document.getElementsByTagName("script");for(const o of e){const n=o.getAttribute("src");if(n)try{if(n.startsWith(t)){const i=new URL(n,window.location.href),a={};return i.searchParams.forEach((d,p)=>{a[p]=d}),a}}catch{continue}}return{}}createContainer(t={}){const e=document.createElement("div");e.className=this.containerClass,t.popupTheme&&e.classList.add(`${this.containerClass}_${t.popupTheme}`);const o=document.createElement("div");o.className=`${this.containerClass}__container`;const n=document.createElement("div");n.className=`${this.containerClass}__tabs-box`,this.tabs=document.createElement("div"),this.tabs.className=`${this.containerClass}__tabs`,this.tabConsent=document.createElement("div"),this.tabConsent.className=`${this.containerClass}__tab-item  ${this.containerClass}__tab-item_consent ${this.containerClass}__tab-item_active`,this.tabConsent.textContent=this.textCookiePopup.tabConsent,this.tabAbout=document.createElement("div"),this.tabAbout.className=`${this.containerClass}__tab-item  ${this.containerClass}__tab-item_about`,this.tabAbout.textContent=this.textCookiePopup.tabAbout,this.tabLink=document.createElement("a"),this.tabLink.className=`${this.containerClass}__tab-item ${this.containerClass}__tab-item_link`,this.tabLink.href=this.cookiePolicyUrl||"#",this.tabLink.target=this.cookiePolicyTarget||"_blank",this.tabLink.textContent=this.textCookiePopup.privacyPolicy,this.tabs.appendChild(this.tabConsent),this.tabs.appendChild(this.tabAbout),this.tabs.appendChild(this.tabLink),n.appendChild(this.tabs);const i=document.createElement("div");i.className=`${this.containerClass}__body`;const a=document.createElement("div");a.className=`${this.containerClass}__content`;const d=this.createText();a.appendChild(d);const p=document.createElement("div");p.className=`${this.containerClass}__button-box`;const h=this.createButton({text:this.textCookiePopup.buttonApply,modificator:"apply"});h.type="button",h.addEventListener("click",()=>{localStorage.setItem(this.consentKey,"true"),document.cookie=`${this.consentKey}=true; max-age=${this.cookieExpire}; path=/; Secure; SameSite=Lax`,location.reload()});const b=this.createButton({text:this.textCookiePopup.buttonDeny,modificator:"deny"});return b.type="button",b.addEventListener("click",()=>{localStorage.setItem(this.consentKey,"false"),document.cookie=`${this.consentKey}=false; max-age=${this.cookieExpire}; path=/; Secure; SameSite=Lax`,this.container.remove()}),p.appendChild(h),p.appendChild(b),i.appendChild(a),i.appendChild(p),o.appendChild(n),o.appendChild(i),e.appendChild(o),e}createText(){const t=document.createElement("div");t.className=`${this.containerClass}__text`;const e=document.createElement("h6");e.className=`${this.containerClass}__title`,e.textContent=this.textCookiePopup.title;const o=document.createElement("p");if(o.className=`${this.containerClass}__description`,o.textContent=this.textCookiePopup.description,t.appendChild(e),t.appendChild(o),this.textCookiePopup.shortDescription){const n=document.createElement("p");n.className=`${this.containerClass}__description ${this.containerClass}__description_alert`,n.textContent=this.textCookiePopup.shortDescription,t.appendChild(n)}return t}createButton(t){const e=document.createElement("button");return e.className=`${this.containerClass}__button`,t.modificator&&e.classList.add(`${this.containerClass}__button_${t.modificator}`),e.type="button",e.textContent=t.text,e}updateConunterBlockedCookies(t=0){t||(t=Object.keys(this.blockedCookies).length),t&&this.tabs&&!this.tabDeleted&&(this.tabDeleted=document.createElement("div"),this.tabDeleted.className=`${this.containerClass}__tab-item`,this.tabDeleted.textContent=this.textCookiePopup.tabDeleted,this.tabs.insertBefore(this.tabDeleted,this.tabConsent.nextSibling));let e=this.tabDeleted.getElementsByClassName(`${this.containerClass}__tab-item-counter`)[0];!e&&this.tabDeleted&&(e=document.createElement("span"),e.className=`${this.containerClass}__tab-item-counter`,this.tabDeleted.appendChild(e)),e&&(e.textContent=` (${t})`)}}(function(l){const t=[];let e=!1;const o=new c;setTimeout(()=>{e=!0,t.forEach(n=>n(o)),t.length=0},0),l.CookieConsentInstance={ready(n){e?n(o):t.push(n)},_instance:o}})(window)})();
