(function(){"use strict";CookieConsentInstance.ready(p=>{Object.assign(p,{popup:"",popupBox:"",popupClose:[],constructorPopup(){window.addEventListener("keydown",this.closeOnEsc.bind(this))},closeOnEsc(t){const e=Array.from(this.popup.querySelectorAll(".is-open"));t.key==="Escape"&&e.length===0&&this.close(!0)},loadPopup(t=!1){this.constructorPopup(),this.tabLink.setAttribute("disabled","");let e=this.cookiePolicyUrl;fetch(e).then(s=>{if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s.text()}).then(s=>{this.popup=new DOMParser().parseFromString(s,"text/html").querySelector(`${this.containerClass}-popup`),this.body.insertAdjacentElement("beforeend",this.popup),this.popupBox=this.popup.querySelector(`${this.containerClass}-popup__box`),this.popupClose=Array.from(this.popup.querySelectorAll("[data-close]")),this.popupClose.push(this.popup),this.popupClose.forEach(i=>{i.addEventListener("click",r=>{r.target.dataset.close&&this.close(!0)})}),window.addEventListener("keydown",this.closeOnEsc.bind(this)),window.addEventListener("click",this.update.bind(this)),t&&this.showPopup();const o=document.querySelector("#form-popup");o&&htmx.process(o)}).catch(console.error)},showPopup(){this.popup&&(this.body.classList.add(`${this.containerClass}-scroll-hidden`),setTimeout(()=>{this.popup.classList.add(`${this.containerClass}-popup_show`)},100))},closePopup(t=!1){this.tabLink.removeAttribute("disabled"),this.popup.classList.remove(`${this.containerClass}-popup_show`);const e=Array.from(document.querySelectorAll(`${this.containerClass}-popup_show`));t&&this.popup.addEventListener("transitionend",()=>{e.length===0&&this.body.classList.remove(`${this.containerClass}-scroll-hidden`),this.removePopup()})},removePopup(){window.removeEventListener("keydown",this.closeOnEsc),window.removeEventListener("click",this.update),this.popup.remove()},loadAndShow(){this.loadPopup(!0)},closeAndRemove(){this.close(!0)}})})})();
