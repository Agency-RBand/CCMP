(function(){"use strict";CookieConsentInstance.ready(p=>{Object.assign(p,{popup:"",popupBox:"",popupClose:[],constructorPopup(){window.addEventListener("keydown",this.closeOnEsc.bind(this))},closeOnEsc(e){const t=Array.from(this.popup.querySelectorAll(".is-open"));e.key==="Escape"&&t.length===0&&this.close(!0)},loadPopup(e=!1){this.constructorPopup(),this.tabLink.setAttribute("disabled","");let t=this.cookiePolicyUrl;fetch(t).then(o=>{if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return o.text()}).then(o=>{this.popup=new DOMParser().parseFromString(o,"text/html").querySelector(`${this.containerClass}-popup`),document.body.insertAdjacentElement("beforeend",this.popup),this.popupBox=this.popup.querySelector(`${this.containerClass}-popup__box`),this.popupClose=Array.from(this.popup.querySelectorAll("[data-close]")),this.popupClose.push(this.popup),this.popupClose.forEach(i=>{i.addEventListener("click",r=>{r.target.dataset.close&&this.close(!0)})}),window.addEventListener("keydown",this.closeOnEsc.bind(this)),window.addEventListener("click",this.update.bind(this)),e&&this.showPopup();const s=document.querySelector("#form-popup");s&&htmx.process(s)}).catch(console.error)},showPopup(){this.popup&&(document.body.classList.add(`${this.containerClass}-scroll-hidden`),setTimeout(()=>{this.popup.classList.add(`${this.containerClass}-popup_show`)},100))},closePopup(e=!1){this.tabLink.removeAttribute("disabled"),this.popup.classList.remove(`${this.containerClass}-popup_show`);const t=Array.from(document.querySelectorAll(`${this.containerClass}-popup_show`));e&&this.popup.addEventListener("transitionend",()=>{t.length===0&&this.body.classList.remove(`${this.containerClass}-scroll-hidden`),this.removePopup()})},removePopup(){window.removeEventListener("keydown",this.closeOnEsc),window.removeEventListener("click",this.update),this.popup.remove()},loadAndShow(){this.loadPopup(!0)},closeAndRemove(){this.close(!0)}})})})();
